config:
    name: 端完善还款信息 testcases/order/perfect-repayment_info.yml
    variables:
      phoneNum: ${ENV(phoneNum)}
    export:
      - orderId
    setup_hooks:
      - ${sql_init_repayment($phoneNum)}
      - ${sleep(5)}

teststeps:
-   name: 获取订单号 api/mall/salesman/POST_Order.yml
    api: api/mall/salesman/POST_Order.yml
    validate:
      - eq: [status_code,200]
    extract:
      - orderId: content.0.orderId

-   name: 获取outerKey  api/usercenter/users/POST_Customer.yml
    api: api/usercenter/users/POST_Customer.yml
    validate:
      - eq: [status_code,200]

-   name: 完善还款信息  api/mall/mallSignAgreementInfo/anybank/POST_Sign.yml
    api: api/mall/mallSignAgreementInfo/anybank/POST_Sign.yml
    variables:
        orderId: $orderId
    validate:
      - eq: [status_code,200]