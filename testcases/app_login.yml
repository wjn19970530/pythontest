config:
    name: 登录APP测试用例 APP/app_login.yml
    variables:
      phoneNum: ${ENV(sellerPhoneNum)}
      verifyCode: ${ENV(verifyCode)}
      endpoint: mobile
    base_url: ${ENV(base_url)}

teststeps:
-   name: 获取验证码
    api: api/account/GET_VeriCode.yml

-   name: 登录
    api: api/auth/POST_Login.yml
    validate:
        - eq: [status_code, 200]
    teardown_hooks:
        - ${response_refresh_token($response, $endpoint)}

-   name: 获取账户信息
    api: api/account/GET_Account.yml
    validate:
    - eq: [status_code, 200]
    - eq: [content.login, '$phoneNum']
    - eq: [content.phoneNum, '$phoneNum']
    - eq: [content.tenantCode, '1001']

