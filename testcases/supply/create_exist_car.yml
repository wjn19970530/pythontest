config:
    name: 车架号已存在时，保存车辆基本信息 testcases/supply/create_exist_car.yml
    variables:
      phoneNum: ${ENV(phoneNum)}
      verifyCode: ${ENV(verifyCode)}
      access_token: ${get_token(access_token)}
      refresh_token: ${get_token(refresh_token)}
      number: ${generate_number()}
    base_url: ${ENV(base_url)}

teststeps:
-   name: 保存新的车辆基本信息
    api: api/supplychain/POST_Cars.yml
    variables:
      engineNumber: ${add($number, 1)}
    extract:
      carId: content.carId
    validate:
      - eq: ["status_code", 201]

-   name: 车架号已存在时，保存车辆基本信息
    api: api/supplychain/POST_Cars.yml
    variables:
      engineNumber: ${add($number, 1)}
    validate:
      - eq: [content.errorCode, 10001]
      - eq: [content.message, '非法参数:该车架号已存在']

