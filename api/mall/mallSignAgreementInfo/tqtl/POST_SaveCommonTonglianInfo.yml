name: 淘汽通联-获取验证码  api/mall/mallSignAgreementInfo/tqtl/POST_SaveCommonTonglianInfo.yml
variables:
  access_token: ${get_token(access_token)}
  outerKey: ${get_value_from_tmp(outerKey)}
  userId: ${get_value_from_tmp(userId)}
  orderId: "1385"
  customerCardNo: ${ENV(cardNo)}
  IDNum: ${ENV(IDNum)}
  userPhoneNum: ${ENV(phoneNum)}
  customerName: ${ENV(name)}
  bussinessName: ${get_value_from_tmp(businessName)}
  payment: ''
base_url: ${ENV(base_url)}
request:
  headers:
      Authorization: Bearer ${access_token}
  method: POST
  json:
    identityCard: $IDNum
    orderId: $orderId
    repaymentMethod: $payment
    userId: $userId
    userName: $customerName
    phoneNum: $userPhoneNum
    bankNum: $customerCardNo
    bussinessName: $bussinessName
    bankCardType: 0
    cardNo: $IDNum
  url: /mall/api/saveCommonTonglianInfo/${outerKey}
validate:
  - eq: [status_code, 200]
teardown_hooks:
  - ${get_value_from_response($response,waterNum)}
